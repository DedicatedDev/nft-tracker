function create_ownership(
    chain: text, 
    contract: byte_array, 
    id: integer, 
    owner_id: byte_array
) {
    val admin = admin_keypair();
    rell.test.tx().op(ownership.bridge.transfer_ownership(chain, contract, id, owner_id)).sign(admin).run();
}

function admin_keypair() = rell.test.keypair(
	priv = x"854D8402085EC5F737B1BE63FFD980981EED2A0DA5FAC6B4468CB1F176BA0321",
	pub = x"02897FAC9964FBDF97E6B83ECCBDE4A8D28729E0FB27059487D1B6B29F70B48767"
);

function create_batch_ownerships(size: integer) {
    val test_contract = x"29d8E29f41F82203b566047b5Ca4CD828F19E8E6";
    for(token_id in range(size)) {
        create_ownership(
            "eth_main",
            test_contract,
            token_id,
            rell.test.keypairs.alice.pub
        );
    }
}

function clean_rowid (data: list<(data:gtv,row_id: rowid)>) {
    var cleaned_data = list<gtv>();
    for(i in range(data.size())) {
        cleaned_data.add(data[i].data);
    }
    return cleaned_data;
}